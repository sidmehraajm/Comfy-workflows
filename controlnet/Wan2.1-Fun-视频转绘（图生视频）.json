{
	"last_link_id":52,
	"nodes":[
		{
			"mode":0,
			"outputs":[
				{
					"name":"feta_args",
					"links":[
						39
					],
					"label":"feta_args",
					"type":"FETAARGS",
					"localized_name":"feta_args"
				}
			],
			"size":[
				315,
				106
			],
			"pos":[
				4226.12451171875,
				1678.60595703125
			],
			"widgets_values":[
				2,
				0,
				1
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":1,
			"type":"WanVideoEnhanceAVideo",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"ccca41cdb76d55b7d0f8bdd02fed1e86dd379fa2",
				"Node name for S&R":"WanVideoEnhanceAVideo"
			},
			"order":0
		},
		{
			"outputs":[
				{
					"name":"wan_t5_model",
					"slot_index":0,
					"links":[
						1
					],
					"label":"wan_t5_model",
					"type":"WANTEXTENCODER",
					"localized_name":"wan_t5_model"
				}
			],
			"color":"#332922",
			"widgets_values":[
				"umt5-xxl-enc-bf16.safetensors",
				"bf16",
				"offload_device",
				"disabled"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"LoadWanVideoT5TextEncoder",
			"mode":0,
			"bgcolor":"#593930",
			"size":[
				377.1661376953125,
				130
			],
			"pos":[
				2246.124267578125,
				1848.60595703125
			],
			"id":2,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d20baf00247fd06553fdc9253e18732244e54172",
				"Node name for S&R":"LoadWanVideoT5TextEncoder"
			},
			"order":1
		},
		{
			"outputs":[
				{
					"name":"text_embeds",
					"slot_index":0,
					"links":[
						37
					],
					"label":"text_embeds",
					"type":"WANVIDEOTEXTEMBEDS",
					"localized_name":"text_embeds"
				}
			],
			"color":"#332922",
			"widgets_values":[
				"high quality nature video of a red fox in an autumnal forest, there's a waterfall in the background",
				"色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走",
				true,
				[
					false,
					true
				],
				[
					false,
					true
				]
			],
			"inputs":[
				{
					"name":"t5",
					"link":1,
					"label":"t5",
					"type":"WANTEXTENCODER",
					"localized_name":"t5"
				},
				{
					"shape":7,
					"name":"model_to_offload",
					"link":2,
					"label":"model_to_offload",
					"type":"WANVIDEOMODEL",
					"localized_name":"model_to_offload"
				},
				{
					"widget":{
						"name":"positive_prompt"
					},
					"name":"positive_prompt",
					"link":3,
					"label":"positive_prompt",
					"type":"STRING"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoTextEncode",
			"mode":0,
			"bgcolor":"#593930",
			"size":[
				420.30511474609375,
				261.5306701660156
			],
			"pos":[
				3336.124267578125,
				1668.60595703125
			],
			"id":3,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d20baf00247fd06553fdc9253e18732244e54172",
				"Node name for S&R":"WanVideoTextEncode"
			},
			"order":25
		},
		{
			"mode":4,
			"outputs":[
				{
					"name":"lora",
					"links":[
						6
					],
					"label":"lora",
					"type":"WANVIDLORA",
					"localized_name":"lora"
				}
			],
			"size":[
				315,
				126
			],
			"pos":[
				2216.124267578125,
				1628.60595703125
			],
			"widgets_values":[
				"1.5\\001.safetensors",
				1,
				false
			],
			"inputs":[
				{
					"shape":7,
					"name":"prev_lora",
					"label":"prev_lora",
					"type":"WANVIDLORA",
					"localized_name":"prev_lora"
				},
				{
					"shape":7,
					"name":"blocks",
					"label":"blocks",
					"type":"SELECTEDBLOCKS",
					"localized_name":"blocks"
				}
			],
			"flags":{
				
			},
			"id":5,
			"type":"WanVideoLoraSelect",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"ccca41cdb76d55b7d0f8bdd02fed1e86dd379fa2",
				"Node name for S&R":"WanVideoLoraSelect"
			},
			"order":2
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"exp_args",
					"links":[
						42
					],
					"label":"exp_args",
					"type":"EXPERIMENTALARGS",
					"localized_name":"exp_args"
				}
			],
			"size":[
				327.5999755859375,
				130
			],
			"pos":[
				4216.12451171875,
				2258.60595703125
			],
			"widgets_values":[
				"",
				true,
				true,
				0
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":6,
			"type":"WanVideoExperimentalArgs",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d5085d4e879b5c9d56e39f57e656255ce72e81fc",
				"Node name for S&R":"WanVideoExperimentalArgs"
			},
			"order":3
		},
		{
			"outputs":[
				{
					"name":"images",
					"slot_index":0,
					"links":[
						19
					],
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				}
			],
			"color":"#322",
			"widgets_values":[
				false,
				272,
				272,
				144,
				128
			],
			"inputs":[
				{
					"name":"vae",
					"link":7,
					"label":"vae",
					"type":"WANVAE",
					"localized_name":"vae"
				},
				{
					"name":"samples",
					"link":8,
					"label":"samples",
					"type":"LATENT",
					"localized_name":"samples"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoDecode",
			"mode":0,
			"bgcolor":"#533",
			"size":[
				315,
				174
			],
			"pos":[
				5066.12451171875,
				1598.60595703125
			],
			"id":7,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d20baf00247fd06553fdc9253e18732244e54172",
				"Node name for S&R":"WanVideoDecode"
			},
			"order":31
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						24
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				}
			],
			"size":[
				315,
				82
			],
			"pos":[
				1416.124267578125,
				2348.60595703125
			],
			"widgets_values":[
				"DWPreprocessor",
				768
			],
			"inputs":[
				{
					"name":"image",
					"link":9,
					"label":"image",
					"type":"IMAGE",
					"localized_name":"image"
				}
			],
			"flags":{
				
			},
			"id":8,
			"type":"AIO_Preprocessor",
			"properties":{
				"cnr_id":"comfyui_controlnet_aux",
				"ver":"83463c2e4b04e729268e57f638b4212e0da4badc",
				"Node name for S&R":"AIO_Preprocessor"
			},
			"order":14
		},
		{
			"outputs":[
				{
					"name":"samples",
					"links":[
						20
					],
					"label":"samples",
					"type":"LATENT",
					"localized_name":"samples"
				}
			],
			"color":"#322",
			"widgets_values":[
				false,
				272,
				272,
				144,
				128,
				0,
				1
			],
			"inputs":[
				{
					"name":"vae",
					"link":10,
					"label":"vae",
					"type":"WANVAE",
					"localized_name":"vae"
				},
				{
					"name":"image",
					"link":11,
					"label":"image",
					"type":"IMAGE",
					"localized_name":"image"
				},
				{
					"shape":7,
					"name":"mask",
					"label":"mask",
					"type":"MASK",
					"localized_name":"mask"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoEncode",
			"mode":0,
			"bgcolor":"#533",
			"size":[
				315,
				242
			],
			"pos":[
				2836.124267578125,
				2148.60595703125
			],
			"id":11,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d5085d4e879b5c9d56e39f57e656255ce72e81fc",
				"Node name for S&R":"WanVideoEncode"
			},
			"order":19
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"output",
					"label":"output",
					"type":"*",
					"localized_name":"output"
				}
			],
			"size":[
				210,
				88
			],
			"pos":[
				2336.124267578125,
				2558.60595703125
			],
			"widgets_values":[
				"768"
			],
			"inputs":[
				{
					"shape":7,
					"name":"anything",
					"link":14,
					"label":"anything",
					"type":"*",
					"localized_name":"anything"
				}
			],
			"flags":{
				
			},
			"id":14,
			"type":"easy showAnything",
			"properties":{
				"cnr_id":"comfyui-easy-use",
				"ver":"4f694195a28c20ace34cd0ed5e747bebaf5cb8a7",
				"Node name for S&R":"easy showAnything"
			},
			"order":23
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"output",
					"label":"output",
					"type":"*",
					"localized_name":"output"
				}
			],
			"size":[
				210,
				88
			],
			"pos":[
				2336.124267578125,
				3048.60595703125
			],
			"widgets_values":[
				"768"
			],
			"inputs":[
				{
					"shape":7,
					"name":"anything",
					"link":15,
					"label":"anything",
					"type":"*",
					"localized_name":"anything"
				}
			],
			"flags":{
				
			},
			"id":15,
			"type":"easy showAnything",
			"properties":{
				"cnr_id":"comfyui-easy-use",
				"ver":"4f694195a28c20ace34cd0ed5e747bebaf5cb8a7",
				"Node name for S&R":"easy showAnything"
			},
			"order":28
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"output",
					"label":"output",
					"type":"*",
					"localized_name":"output"
				}
			],
			"size":[
				210,
				88
			],
			"pos":[
				2336.124267578125,
				2398.60595703125
			],
			"widgets_values":[
				"432"
			],
			"inputs":[
				{
					"shape":7,
					"name":"anything",
					"link":16,
					"label":"anything",
					"type":"*",
					"localized_name":"anything"
				}
			],
			"flags":{
				
			},
			"id":16,
			"type":"easy showAnything",
			"properties":{
				"cnr_id":"comfyui-easy-use",
				"ver":"4f694195a28c20ace34cd0ed5e747bebaf5cb8a7",
				"Node name for S&R":"easy showAnything"
			},
			"order":22
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"output",
					"label":"output",
					"type":"*",
					"localized_name":"output"
				}
			],
			"size":[
				210,
				88
			],
			"pos":[
				2336.124267578125,
				2928.60595703125
			],
			"widgets_values":[
				"432"
			],
			"inputs":[
				{
					"shape":7,
					"name":"anything",
					"link":17,
					"label":"anything",
					"type":"*",
					"localized_name":"anything"
				}
			],
			"flags":{
				
			},
			"id":17,
			"type":"easy showAnything",
			"properties":{
				"cnr_id":"comfyui-easy-use",
				"ver":"4f694195a28c20ace34cd0ed5e747bebaf5cb8a7",
				"Node name for S&R":"easy showAnything"
			},
			"order":27
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"Filenames",
					"label":"Filenames",
					"type":"VHS_FILENAMES",
					"localized_name":"Filenames"
				}
			],
			"size":[
				309.3501892089844,
				838.4003295898438
			],
			"pos":[
				5116.12451171875,
				1928.60595703125
			],
			"widgets_values":{
				"save_output":false,
				"filename_prefix":"control",
				"loop_count":0,
				"pix_fmt":"yuv420p",
				"save_metadata":true,
				"crf":19,
				"videopreview":{
					"paused":false,
					"hidden":false,
					"params":{
						"filename":"control_00005_apqgn_1743265605.mp4",
						"workflow":"control_00001.png",
						"fullpath":"C:\\KSK\\ComfyUI-Main\\ComfyUI\\temp\\control_00001.mp4",
						"format":"video/h264-mp4",
						"subfolder":"",
						"type":"temp",
						"frame_rate":16
					}
				},
				"format":"video/h264-mp4",
				"frame_rate":16,
				"pingpong":false
			},
			"inputs":[
				{
					"name":"images",
					"link":18,
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				},
				{
					"shape":7,
					"name":"audio",
					"label":"audio",
					"type":"AUDIO",
					"localized_name":"audio"
				},
				{
					"shape":7,
					"name":"meta_batch",
					"label":"meta_batch",
					"type":"VHS_BatchManager",
					"localized_name":"meta_batch"
				},
				{
					"shape":7,
					"name":"vae",
					"label":"vae",
					"type":"VAE",
					"localized_name":"vae"
				}
			],
			"flags":{
				
			},
			"id":18,
			"type":"VHS_VideoCombine",
			"properties":{
				"cnr_id":"comfyui-videohelpersuite",
				"ver":"0a75c7958fe320efcb052f1d9f8451fd20c730a8",
				"Node name for S&R":"VHS_VideoCombine"
			},
			"order":21
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"Filenames",
					"label":"Filenames",
					"type":"VHS_FILENAMES",
					"localized_name":"Filenames"
				}
			],
			"size":[
				310.50628662109375,
				840.4556274414062
			],
			"pos":[
				5466.12451171875,
				1928.60595703125
			],
			"widgets_values":{
				"save_output":true,
				"filename_prefix":"WanVideoWrapper_FunControl",
				"loop_count":0,
				"pix_fmt":"yuv420p",
				"save_metadata":true,
				"crf":19,
				"videopreview":{
					"paused":false,
					"hidden":false,
					"params":{
						"filename":"WanVideoWrapper_FunControl_00007_pksae_1743669634.mp4",
						"workflow":"WanVideoWrapper_FunControl_00014.png",
						"fullpath":"C:\\KSK\\ComfyUI-Main\\ComfyUI\\output\\WanVideoWrapper_FunControl_00014.mp4",
						"format":"video/h264-mp4",
						"subfolder":"",
						"type":"output",
						"frame_rate":16
					}
				},
				"format":"video/h264-mp4",
				"frame_rate":16,
				"pingpong":false
			},
			"inputs":[
				{
					"name":"images",
					"link":19,
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				},
				{
					"shape":7,
					"name":"audio",
					"label":"audio",
					"type":"AUDIO",
					"localized_name":"audio"
				},
				{
					"shape":7,
					"name":"meta_batch",
					"label":"meta_batch",
					"type":"VHS_BatchManager",
					"localized_name":"meta_batch"
				},
				{
					"shape":7,
					"name":"vae",
					"label":"vae",
					"type":"VAE",
					"localized_name":"vae"
				}
			],
			"flags":{
				
			},
			"id":19,
			"type":"VHS_VideoCombine",
			"properties":{
				"cnr_id":"comfyui-videohelpersuite",
				"ver":"0a75c7958fe320efcb052f1d9f8451fd20c730a8",
				"Node name for S&R":"VHS_VideoCombine"
			},
			"order":32
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"image_embeds",
					"links":[
						45
					],
					"label":"image_embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"image_embeds"
				}
			],
			"size":[
				315,
				82
			],
			"pos":[
				3536.124267578125,
				2138.60595703125
			],
			"widgets_values":[
				0,
				1
			],
			"inputs":[
				{
					"name":"latents",
					"link":20,
					"label":"latents",
					"type":"LATENT",
					"localized_name":"latents"
				}
			],
			"flags":{
				
			},
			"id":20,
			"type":"WanVideoControlEmbeds",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d5085d4e879b5c9d56e39f57e656255ce72e81fc",
				"Node name for S&R":"WanVideoControlEmbeds"
			},
			"order":26
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						11,
						13,
						18
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				},
				{
					"name":"width",
					"links":[
						16,
						22
					],
					"label":"width",
					"type":"INT",
					"localized_name":"width"
				},
				{
					"name":"height",
					"links":[
						14,
						23
					],
					"label":"height",
					"type":"INT",
					"localized_name":"height"
				}
			],
			"size":[
				315,
				266
			],
			"pos":[
				1826.124267578125,
				2428.60595703125
			],
			"widgets_values":[
				768,
				768,
				"lanczos",
				true,
				16,
				0,
				0,
				"disabled"
			],
			"inputs":[
				{
					"name":"image",
					"link":24,
					"label":"image",
					"type":"IMAGE",
					"localized_name":"image"
				},
				{
					"shape":7,
					"name":"get_image_size",
					"label":"get_image_size",
					"type":"IMAGE",
					"localized_name":"get_image_size"
				},
				{
					"widget":{
						"name":"width_input"
					},
					"shape":7,
					"name":"width_input",
					"label":"width_input",
					"type":"INT"
				},
				{
					"widget":{
						"name":"height_input"
					},
					"shape":7,
					"name":"height_input",
					"label":"height_input",
					"type":"INT"
				}
			],
			"flags":{
				
			},
			"id":22,
			"type":"ImageResizeKJ",
			"properties":{
				"cnr_id":"comfyui-kjnodes",
				"ver":"52c2e31a903fec2dd654fb614ea82ba2757d5028",
				"Node name for S&R":"ImageResizeKJ"
			},
			"order":16
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"wan_clip_vision",
					"links":[
						12
					],
					"label":"wan_clip_vision",
					"type":"CLIP_VISION",
					"localized_name":"wan_clip_vision"
				}
			],
			"size":[
				511.13134765625,
				177.373291015625
			],
			"pos":[
				2996.124267578125,
				3058.60595703125
			],
			"widgets_values":[
				"open-clip-xlm-roberta-large-vit-huge-14_fp16.safetensors",
				"fp16",
				"offload_device"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":23,
			"type":"LoadWanVideoClipTextEncoder",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"ccca41cdb76d55b7d0f8bdd02fed1e86dd379fa2",
				"Node name for S&R":"LoadWanVideoClipTextEncoder"
			},
			"order":4
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"teacache_args",
					"links":[
						40
					],
					"label":"teacache_args",
					"type":"TEACACHEARGS",
					"localized_name":"teacache_args"
				}
			],
			"size":[
				315,
				178
			],
			"pos":[
				4226.12451171875,
				1848.60595703125
			],
			"widgets_values":[
				0.26000000000000006,
				1,
				-1,
				"offload_device",
				"true",
				"e"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":24,
			"type":"WanVideoTeaCache",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d20baf00247fd06553fdc9253e18732244e54172",
				"Node name for S&R":"WanVideoTeaCache"
			},
			"order":5
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"slg_args",
					"links":[
						41
					],
					"label":"slg_args",
					"type":"SLGARGS",
					"localized_name":"slg_args"
				}
			],
			"size":[
				315,
				106
			],
			"pos":[
				4226.12451171875,
				2068.60595703125
			],
			"widgets_values":[
				"9,10",
				0.5000000000000001,
				0.9000000000000001
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":25,
			"type":"WanVideoSLG",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"ccca41cdb76d55b7d0f8bdd02fed1e86dd379fa2",
				"Node name for S&R":"WanVideoSLG"
			},
			"order":6
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"florence2_model",
					"links":[
						27
					],
					"label":"florence2_model",
					"type":"FL2MODEL",
					"localized_name":"florence2_model"
				}
			],
			"size":[
				315,
				106
			],
			"pos":[
				1646.124267578125,
				3828.60595703125
			],
			"widgets_values":[
				"Florence-2-Flux-Large",
				"fp16",
				"sdpa"
			],
			"inputs":[
				{
					"shape":7,
					"name":"lora",
					"label":"lora",
					"type":"PEFTLORA",
					"localized_name":"lora"
				}
			],
			"flags":{
				
			},
			"id":26,
			"type":"Florence2ModelLoader",
			"properties":{
				"cnr_id":"comfyui-florence2",
				"ver":"257fec56102cf42c7e5a28920b6d1258983ae71c",
				"Node name for S&R":"Florence2ModelLoader"
			},
			"order":7
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"STRING",
					"links":[
						3
					],
					"label":"STRING",
					"type":"STRING",
					"localized_name":"STRING"
				}
			],
			"size":[
				400,
				200
			],
			"pos":[
				2756.124267578125,
				1798.60595703125
			],
			"widgets_values":[
				"一个女孩在跳舞",
				[
					false,
					true
				]
			],
			"inputs":[
				{
					"widget":{
						"name":"String"
					},
					"name":"String",
					"link":35,
					"label":"String",
					"type":"STRING"
				}
			],
			"flags":{
				
			},
			"id":31,
			"type":"KepStringLiteral",
			"properties":{
				"cnr_id":"comfyliterals",
				"ver":"bdddb08ca82d90d75d97b1d437a652e0284a32ac",
				"Node name for S&R":"KepStringLiteral"
			},
			"order":17
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"samples",
					"slot_index":0,
					"links":[
						8
					],
					"label":"samples",
					"type":"LATENT",
					"localized_name":"samples"
				}
			],
			"size":[
				357.6112060546875,
				849.6112060546875
			],
			"pos":[
				4656.12451171875,
				1608.60595703125
			],
			"widgets_values":[
				25,
				6,
				5,
				42,
				"fixed",
				true,
				"unipc",
				0,
				1,
				"",
				"comfy"
			],
			"inputs":[
				{
					"name":"model",
					"link":36,
					"label":"model",
					"type":"WANVIDEOMODEL",
					"localized_name":"model"
				},
				{
					"name":"text_embeds",
					"link":37,
					"label":"text_embeds",
					"type":"WANVIDEOTEXTEMBEDS",
					"localized_name":"text_embeds"
				},
				{
					"name":"image_embeds",
					"link":49,
					"label":"image_embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"image_embeds"
				},
				{
					"shape":7,
					"name":"samples",
					"label":"samples",
					"type":"LATENT",
					"localized_name":"samples"
				},
				{
					"shape":7,
					"name":"feta_args",
					"link":39,
					"label":"feta_args",
					"type":"FETAARGS",
					"localized_name":"feta_args"
				},
				{
					"shape":7,
					"name":"context_options",
					"label":"context_options",
					"type":"WANVIDCONTEXT",
					"localized_name":"context_options"
				},
				{
					"shape":7,
					"name":"teacache_args",
					"link":40,
					"label":"teacache_args",
					"type":"TEACACHEARGS",
					"localized_name":"teacache_args"
				},
				{
					"shape":7,
					"name":"flowedit_args",
					"label":"flowedit_args",
					"type":"FLOWEDITARGS",
					"localized_name":"flowedit_args"
				},
				{
					"shape":7,
					"name":"slg_args",
					"link":41,
					"label":"slg_args",
					"type":"SLGARGS",
					"localized_name":"slg_args"
				},
				{
					"shape":7,
					"name":"loop_args",
					"label":"loop_args",
					"type":"LOOPARGS",
					"localized_name":"loop_args"
				},
				{
					"shape":7,
					"name":"experimental_args",
					"link":42,
					"label":"experimental_args",
					"type":"EXPERIMENTALARGS",
					"localized_name":"experimental_args"
				}
			],
			"flags":{
				
			},
			"id":32,
			"type":"WanVideoSampler",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d20baf00247fd06553fdc9253e18732244e54172",
				"Node name for S&R":"WanVideoSampler"
			},
			"order":30
		},
		{
			"outputs":[
				{
					"name":"torch_compile_args",
					"slot_index":0,
					"links":[
						4
					],
					"label":"torch_compile_args",
					"type":"WANCOMPILEARGS",
					"localized_name":"torch_compile_args"
				}
			],
			"color":"#223",
			"widgets_values":[
				"inductor",
				false,
				"default",
				false,
				64,
				true,
				128
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"WanVideoTorchCompileSettings",
			"mode":0,
			"bgcolor":"#335",
			"size":[
				390.5999755859375,
				202
			],
			"pos":[
				2216.124267578125,
				1138.60595703125
			],
			"id":10,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d20baf00247fd06553fdc9253e18732244e54172",
				"Node name for S&R":"WanVideoTorchCompileSettings"
			},
			"order":8
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"block_swap_args",
					"links":[
						43
					],
					"label":"block_swap_args",
					"type":"BLOCKSWAPARGS",
					"localized_name":"block_swap_args"
				}
			],
			"size":[
				315,
				130
			],
			"pos":[
				2261.219970703125,
				1407.9700927734375
			],
			"widgets_values":[
				20,
				false,
				false,
				true
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":34,
			"type":"WanVideoBlockSwap",
			"properties":{
				"Node name for S&R":"WanVideoBlockSwap"
			},
			"order":9
		},
		{
			"mode":0,
			"outputs":[
				
			],
			"size":[
				315,
				82
			],
			"color":"rgba(38, 73, 116, 0.7)",
			"pos":[
				2685.2099609375,
				3574.36669921875
			],
			"widgets_values":[
				true,
				true
			],
			"inputs":[
				{
					"name":"anything",
					"link":44,
					"label":"anything",
					"type":"*",
					"localized_name":"anything"
				}
			],
			"flags":{
				
			},
			"id":35,
			"type":"LayerUtility: PurgeVRAM",
			"properties":{
				"Node name for S&R":"LayerUtility: PurgeVRAM"
			},
			"order":18
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"image",
					"label":"image",
					"type":"IMAGE",
					"localized_name":"image"
				},
				{
					"name":"mask",
					"label":"mask",
					"type":"MASK",
					"localized_name":"mask"
				},
				{
					"name":"caption",
					"links":[
						35,
						44
					],
					"label":"caption",
					"type":"STRING",
					"localized_name":"caption"
				},
				{
					"name":"data",
					"label":"data",
					"type":"JSON",
					"localized_name":"data"
				}
			],
			"size":[
				400,
				364
			],
			"pos":[
				2106.124267578125,
				3578.60595703125
			],
			"widgets_values":[
				"",
				"detailed_caption",
				true,
				false,
				1024,
				3,
				true,
				"",
				374385583596693,
				"randomize",
				[
					false,
					true
				]
			],
			"inputs":[
				{
					"name":"image",
					"link":26,
					"label":"image",
					"type":"IMAGE",
					"localized_name":"image"
				},
				{
					"name":"florence2_model",
					"link":27,
					"label":"florence2_model",
					"type":"FL2MODEL",
					"localized_name":"florence2_model"
				}
			],
			"flags":{
				
			},
			"id":28,
			"type":"Florence2Run",
			"properties":{
				"cnr_id":"comfyui-florence2",
				"ver":"257fec56102cf42c7e5a28920b6d1258983ae71c",
				"Node name for S&R":"Florence2Run"
			},
			"order":15
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						9
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				},
				{
					"name":"frame_count",
					"links":[
						48
					],
					"label":"frame_count",
					"type":"INT",
					"localized_name":"frame_count"
				},
				{
					"name":"audio",
					"label":"audio",
					"type":"AUDIO",
					"localized_name":"audio"
				},
				{
					"name":"video_info",
					"label":"video_info",
					"type":"VHS_VIDEOINFO",
					"localized_name":"video_info"
				}
			],
			"size":[
				346.55084228515625,
				856.5348510742188
			],
			"pos":[
				1006.124267578125,
				2138.60595703125
			],
			"widgets_values":{
				"custom_height":0,
				"force_rate":0,
				"custom_width":0,
				"select_every_nth":1,
				"frame_load_cap":49,
				"videopreview":{
					"paused":false,
					"hidden":false,
					"params":{
						"custom_height":0,
						"filename":"af9302d96368f6a8069994156207029d76d0f9a0b89a2b72d6c257ea17322010.mp4",
						"force_rate":0,
						"custom_width":0,
						"select_every_nth":1,
						"frame_load_cap":49,
						"format":"video/mp4",
						"skip_first_frames":0,
						"type":"input"
					}
				},
				"video":"af9302d96368f6a8069994156207029d76d0f9a0b89a2b72d6c257ea17322010.mp4",
				"skip_first_frames":0,
				"force_size":"Disabled",
				"choose video to upload":"image"
			},
			"inputs":[
				{
					"shape":7,
					"name":"meta_batch",
					"label":"meta_batch",
					"type":"VHS_BatchManager",
					"localized_name":"meta_batch"
				},
				{
					"shape":7,
					"name":"vae",
					"label":"vae",
					"type":"VAE",
					"localized_name":"vae"
				}
			],
			"flags":{
				
			},
			"id":9,
			"type":"VHS_LoadVideo",
			"properties":{
				"cnr_id":"comfyui-videohelpersuite",
				"ver":"0a75c7958fe320efcb052f1d9f8451fd20c730a8",
				"Node name for S&R":"VHS_LoadVideo"
			},
			"order":10
		},
		{
			"outputs":[
				{
					"name":"model",
					"slot_index":0,
					"links":[
						2,
						36
					],
					"label":"model",
					"type":"WANVIDEOMODEL",
					"localized_name":"model"
				}
			],
			"color":"#223",
			"widgets_values":[
				"alibaba-pai/Wan2.1-Fun-14B-Control.safetensors",
				"bf16",
				"fp8_e4m3fn",
				"offload_device",
				"sageattn"
			],
			"inputs":[
				{
					"shape":7,
					"name":"compile_args",
					"link":4,
					"label":"compile_args",
					"type":"WANCOMPILEARGS",
					"localized_name":"compile_args"
				},
				{
					"shape":7,
					"name":"block_swap_args",
					"link":43,
					"label":"block_swap_args",
					"type":"BLOCKSWAPARGS",
					"localized_name":"block_swap_args"
				},
				{
					"shape":7,
					"name":"lora",
					"link":6,
					"label":"lora",
					"type":"WANVIDLORA",
					"localized_name":"lora"
				},
				{
					"shape":7,
					"name":"vram_management_args",
					"label":"vram_management_args",
					"type":"VRAM_MANAGEMENTARGS",
					"localized_name":"vram_management_args"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoModelLoader",
			"mode":0,
			"bgcolor":"#335",
			"size":[
				477.4410095214844,
				226.43276977539062
			],
			"pos":[
				2646.124267578125,
				1408.60595703125
			],
			"id":4,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d20baf00247fd06553fdc9253e18732244e54172",
				"Node name for S&R":"WanVideoModelLoader"
			},
			"order":13
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						21,
						26
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				},
				{
					"name":"MASK",
					"label":"MASK",
					"type":"MASK",
					"localized_name":"MASK"
				}
			],
			"size":[
				477.21075439453125,
				707.2571411132812
			],
			"pos":[
				946.124267578125,
				3178.60595703125
			],
			"widgets_values":[
				"b5eec2f42ddf0d46eac3cf67db22fa202b14e9a63ecd32c4c0765abc99828a1d.png",
				"image",
				""
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":30,
			"type":"LoadImage",
			"properties":{
				"cnr_id":"comfy-core",
				"ver":"0.3.27",
				"Node name for S&R":"LoadImage"
			},
			"order":11
		},
		{
			"outputs":[
				{
					"name":"vae",
					"slot_index":0,
					"links":[
						7,
						10,
						50
					],
					"label":"vae",
					"type":"WANVAE",
					"localized_name":"vae"
				}
			],
			"color":"#322",
			"widgets_values":[
				"Wan2_1_VAE_bf16.safetensors",
				"bf16"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"WanVideoVAELoader",
			"mode":0,
			"bgcolor":"#533",
			"size":[
				372.7727966308594,
				82
			],
			"pos":[
				2096.124267578125,
				2118.60595703125
			],
			"id":13,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d20baf00247fd06553fdc9253e18732244e54172",
				"Node name for S&R":"WanVideoVAELoader"
			},
			"order":12
		},
		{
			"outputs":[
				{
					"name":"image_embeds",
					"links":[
						51
					],
					"label":"image_embeds",
					"type":"WANVIDIMAGE_CLIPEMBEDS",
					"localized_name":"image_embeds"
				}
			],
			"color":"#233",
			"widgets_values":[
				1,
				1,
				"center",
				"average",
				true,
				0,
				0.20000000000000004
			],
			"inputs":[
				{
					"name":"clip_vision",
					"link":12,
					"label":"clip_vision",
					"type":"CLIP_VISION",
					"localized_name":"clip_vision"
				},
				{
					"name":"image_1",
					"link":13,
					"label":"image_1",
					"type":"IMAGE",
					"localized_name":"image_1"
				},
				{
					"shape":7,
					"name":"image_2",
					"label":"image_2",
					"type":"IMAGE",
					"localized_name":"image_2"
				},
				{
					"shape":7,
					"name":"negative_image",
					"label":"negative_image",
					"type":"IMAGE",
					"localized_name":"negative_image"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoClipVisionEncode",
			"mode":0,
			"bgcolor":"#355",
			"size":[
				327.5999755859375,
				474
			],
			"pos":[
				3086.124267578125,
				2488.60595703125
			],
			"id":12,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"ccca41cdb76d55b7d0f8bdd02fed1e86dd379fa2",
				"Node name for S&R":"WanVideoClipVisionEncode"
			},
			"order":20
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						52
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				},
				{
					"name":"width",
					"links":[
						17,
						46
					],
					"label":"width",
					"type":"INT",
					"localized_name":"width"
				},
				{
					"name":"height",
					"links":[
						15,
						47
					],
					"label":"height",
					"type":"INT",
					"localized_name":"height"
				}
			],
			"size":[
				315,
				266
			],
			"pos":[
				1856.124267578125,
				2838.60595703125
			],
			"widgets_values":[
				768,
				768,
				"lanczos",
				false,
				16,
				0,
				0,
				"center"
			],
			"inputs":[
				{
					"name":"image",
					"link":21,
					"label":"image",
					"type":"IMAGE",
					"localized_name":"image"
				},
				{
					"shape":7,
					"name":"get_image_size",
					"label":"get_image_size",
					"type":"IMAGE",
					"localized_name":"get_image_size"
				},
				{
					"widget":{
						"name":"width_input"
					},
					"shape":7,
					"name":"width_input",
					"link":22,
					"label":"width_input",
					"type":"INT"
				},
				{
					"widget":{
						"name":"height_input"
					},
					"shape":7,
					"name":"height_input",
					"link":23,
					"label":"height_input",
					"type":"INT"
				}
			],
			"flags":{
				
			},
			"id":21,
			"type":"ImageResizeKJ",
			"properties":{
				"cnr_id":"comfyui-kjnodes",
				"ver":"52c2e31a903fec2dd654fb614ea82ba2757d5028",
				"Node name for S&R":"ImageResizeKJ"
			},
			"order":24
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"image_embeds",
					"links":[
						49
					],
					"label":"image_embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"image_embeds"
				}
			],
			"size":[
				352.79998779296875,
				378
			],
			"pos":[
				3538.391845703125,
				2437.8525390625
			],
			"widgets_values":[
				832,
				480,
				81,
				0.030000000000000006,
				1,
				1,
				true,
				true
			],
			"inputs":[
				{
					"name":"vae",
					"link":50,
					"label":"vae",
					"type":"WANVAE",
					"localized_name":"vae"
				},
				{
					"name":"clip_embeds",
					"link":51,
					"label":"clip_embeds",
					"type":"WANVIDIMAGE_CLIPEMBEDS",
					"localized_name":"clip_embeds"
				},
				{
					"shape":7,
					"name":"start_image",
					"link":52,
					"label":"start_image",
					"type":"IMAGE",
					"localized_name":"start_image"
				},
				{
					"shape":7,
					"name":"end_image",
					"label":"end_image",
					"type":"IMAGE",
					"localized_name":"end_image"
				},
				{
					"shape":7,
					"name":"control_embeds",
					"link":45,
					"label":"control_embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"control_embeds"
				},
				{
					"widget":{
						"name":"width"
					},
					"name":"width",
					"link":46,
					"label":"width",
					"type":"INT"
				},
				{
					"widget":{
						"name":"height"
					},
					"name":"height",
					"link":47,
					"label":"height",
					"type":"INT"
				},
				{
					"widget":{
						"name":"num_frames"
					},
					"name":"num_frames",
					"link":48,
					"label":"num_frames",
					"type":"INT"
				},
				{
					"shape":7,
					"name":"temporal_mask",
					"label":"temporal_mask",
					"type":"MASK",
					"localized_name":"temporal_mask"
				}
			],
			"flags":{
				
			},
			"id":36,
			"type":"WanVideoImageToVideoEncode",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"ccca41cdb76d55b7d0f8bdd02fed1e86dd379fa2",
				"Node name for S&R":"WanVideoImageToVideoEncode"
			},
			"order":29
		}
	],
	"extra":{
		"VHS_KeepIntermediate":true,
		"ue_links":[
			
		],
		"VHS_MetadataImage":true,
		"0246.VERSION":[
			0,
			0,
			4
		],
		"VHS_latentpreviewrate":0,
		"VHS_latentpreview":false,
		"ds":{
			"offset":[
				-2667.035033553438,
				-1557.5596051949865
			],
			"scale":0.9646149645000022
		}
	},
	"groups":[
		
	],
	"links":[
		[
			1,
			2,
			0,
			3,
			0,
			"WANTEXTENCODER"
		],
		[
			2,
			4,
			0,
			3,
			1,
			"WANVIDEOMODEL"
		],
		[
			3,
			31,
			0,
			3,
			2,
			"STRING"
		],
		[
			4,
			10,
			0,
			4,
			0,
			"WANCOMPILEARGS"
		],
		[
			6,
			5,
			0,
			4,
			2,
			"WANVIDLORA"
		],
		[
			7,
			13,
			0,
			7,
			0,
			"WANVAE"
		],
		[
			8,
			32,
			0,
			7,
			1,
			"LATENT"
		],
		[
			9,
			9,
			0,
			8,
			0,
			"IMAGE"
		],
		[
			10,
			13,
			0,
			11,
			0,
			"WANVAE"
		],
		[
			11,
			22,
			0,
			11,
			1,
			"IMAGE"
		],
		[
			12,
			23,
			0,
			12,
			0,
			"CLIP_VISION"
		],
		[
			13,
			22,
			0,
			12,
			1,
			"IMAGE"
		],
		[
			14,
			22,
			2,
			14,
			0,
			"*"
		],
		[
			15,
			21,
			2,
			15,
			0,
			"*"
		],
		[
			16,
			22,
			1,
			16,
			0,
			"*"
		],
		[
			17,
			21,
			1,
			17,
			0,
			"*"
		],
		[
			18,
			22,
			0,
			18,
			0,
			"IMAGE"
		],
		[
			19,
			7,
			0,
			19,
			0,
			"IMAGE"
		],
		[
			20,
			11,
			0,
			20,
			0,
			"LATENT"
		],
		[
			21,
			30,
			0,
			21,
			0,
			"IMAGE"
		],
		[
			22,
			22,
			1,
			21,
			2,
			"INT"
		],
		[
			23,
			22,
			2,
			21,
			3,
			"INT"
		],
		[
			24,
			8,
			0,
			22,
			0,
			"IMAGE"
		],
		[
			26,
			30,
			0,
			28,
			0,
			"IMAGE"
		],
		[
			27,
			26,
			0,
			28,
			1,
			"FL2MODEL"
		],
		[
			35,
			28,
			2,
			31,
			0,
			"STRING"
		],
		[
			36,
			4,
			0,
			32,
			0,
			"WANVIDEOMODEL"
		],
		[
			37,
			3,
			0,
			32,
			1,
			"WANVIDEOTEXTEMBEDS"
		],
		[
			39,
			1,
			0,
			32,
			4,
			"FETAARGS"
		],
		[
			40,
			24,
			0,
			32,
			6,
			"TEACACHEARGS"
		],
		[
			41,
			25,
			0,
			32,
			8,
			"SLGARGS"
		],
		[
			42,
			6,
			0,
			32,
			10,
			"EXPERIMENTALARGS"
		],
		[
			43,
			34,
			0,
			4,
			1,
			"BLOCKSWAPARGS"
		],
		[
			44,
			28,
			2,
			35,
			0,
			"*"
		],
		[
			45,
			20,
			0,
			36,
			4,
			"WANVIDIMAGE_EMBEDS"
		],
		[
			46,
			21,
			1,
			36,
			5,
			"INT"
		],
		[
			47,
			21,
			2,
			36,
			6,
			"INT"
		],
		[
			48,
			9,
			1,
			36,
			7,
			"INT"
		],
		[
			49,
			36,
			0,
			32,
			2,
			"WANVIDIMAGE_EMBEDS"
		],
		[
			50,
			13,
			0,
			36,
			0,
			"WANVAE"
		],
		[
			51,
			12,
			0,
			36,
			1,
			"WANVIDIMAGE_CLIPEMBEDS"
		],
		[
			52,
			21,
			0,
			36,
			2,
			"IMAGE"
		]
	],
	"id":"94d124ef-ea7e-449c-b912-9694c2b4b7a8",
	"config":{
		
	},
	"version":0.4,
	"last_node_id":36,
	"revision":0
}